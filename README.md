# DWH_2024
Работа посвящена организации корпоративного хранилища данных (DWH) на основе данных из трех источников и построению конечной витрины данных со статистикой о продажах. Эту работу я запомню надолго, психика важнее высшего образования.

# Инструкция по развертыванию, применению, работы с бд
1. Скачайте архив с проектом
2. Откройте в VS Studio и перейдите в рабочую папку (будьте внимательны, в директории вашей рабочей папки должен лежать файл docker-compose.yml), запустите Docker Dekstop
3. В консоли выполните 
```
docker-compose up -d
```
Вы должны увидеть в консоли такое:

![image](https://github.com/user-attachments/assets/7ac35387-163d-4b68-a274-27e420bcbc96)

Если не видите, смотрите логи в Docker Dekstop и исправляйте 

4. Откройте DBeaver и создайте новое подключение, login, password, host смотрите в  docker-compose.yml.
5. Запустите скрипты по созданию схем и в них таблиц, которые располагаются в папке "Скрипты создания таблиц источников".
6. Запустите скрипты по созданию схемы DWH и витрины и в ней таблиц, которые располагаются в папке "Скрипты по созданию таблиц DWH и витрины".
7. Заполните данными таблицы в схемах source 1-3 из папки "Данные для источников", обращаю внимание, при заполнении данными в configure во всех первых столбцах таблиц проставить skip (!!).
8. Запустите скрипт merge_data.sql для заполнения таблиц DWH (кроме f_orders).
9. Запустите скрипт merge_orders.sql для заполнения таблицы f_orders.
10. Устали? Осталось совсем немного...
11. Запустите скрипт create_str_in_datamart.sql для заполнения витрины
12. Можете просмотреть её, изменять сортировки и т.д.
13. Если сомневаетесь в правильной работоспособности данных скриптов, то можете создать или обновить или то и другое какие-нибудь данные с помощью скрипта create_str.sql, сейчас там реализовано создание строчки в source3.craft_market_orders, с ней создатся заказ и новый товар, а так же там есть обновление строчки в source1.craft_market_wide, с помощью этого вы обновите состояние заказа, а так же цену продукта.
14. Для проверки обновлений повторите пукнты 8,9,11,12.
15. Надеюсь, вам понравилось, я старалась!   

